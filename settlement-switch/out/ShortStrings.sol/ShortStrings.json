{"abi":[{"type":"error","name":"InvalidShortString","inputs":[]},{"type":"error","name":"StringTooLong","inputs":[{"name":"str","type":"string","internalType":"string"}]}],"bytecode":{"object":"0x6080806040523460175760109081601c823930815050f35b5f80fdfe5f80fdfea164736f6c6343000818000a","sourceMap":"1255:3054:40:-:0;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x5f80fdfea164736f6c6343000818000a","sourceMap":"1255:3054:40:-:0;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidShortString\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"str\",\"type\":\"string\"}],\"name\":\"StringTooLong\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable. Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case. Usage example: ```solidity contract Named {     using ShortStrings for *;     ShortString private immutable _name;     string private _nameFallback;     constructor(string memory contractName) {         _name = contractName.toShortStringWithFallback(_nameFallback);     }     function name() external view returns (string memory) {         return _name.toStringWithFallback(_nameFallback);     } } ```\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":\"ShortStrings\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[\":@chainlink/=lib/chainlink/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol\":{\"keccak256\":\"0x0768b3bdb701fe4994b3be932ca8635551dfebe04c645f77500322741bebf57c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a2059f9ca8d3c11c49ca49fc9c5fb070f18cc85d12a7688e45322ed0e2a1cb99\",\"dweb:/ipfs/QmS2gwX51RAvSw4tYbjHccY2CKbh2uvDzqHLAFXdsddgia\"]},\"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b\",\"dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidShortString"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"type":"error","name":"StringTooLong"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/","@openzeppelin/=lib/openzeppelin-contracts/","ds-test/=lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":1000},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":"ShortStrings"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol":{"keccak256":"0x0768b3bdb701fe4994b3be932ca8635551dfebe04c645f77500322741bebf57c","urls":["bzz-raw://a2059f9ca8d3c11c49ca49fc9c5fb070f18cc85d12a7688e45322ed0e2a1cb99","dweb:/ipfs/QmS2gwX51RAvSw4tYbjHccY2CKbh2uvDzqHLAFXdsddgia"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol":{"keccak256":"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97","urls":["bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b","dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"lib/openzeppelin-contracts/contracts/utils/ShortStrings.sol","id":43095,"exportedSymbols":{"ShortString":[42883],"ShortStrings":[43094],"StorageSlot":[43218]},"nodeType":"SourceUnit","src":"106:4204:40","nodes":[{"id":42879,"nodeType":"PragmaDirective","src":"106:24:40","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":42881,"nodeType":"ImportDirective","src":"132:46:40","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","nameLocation":"-1:-1:-1","scope":43095,"sourceUnit":43219,"symbolAliases":[{"foreign":{"id":42880,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43218,"src":"140:11:40","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":42883,"nodeType":"UserDefinedValueTypeDefinition","src":"348:28:40","nodes":[],"canonicalName":"ShortString","name":"ShortString","nameLocation":"353:11:40","underlyingType":{"id":42882,"name":"bytes32","nodeType":"ElementaryTypeName","src":"368:7:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":43094,"nodeType":"ContractDefinition","src":"1255:3054:40","nodes":[{"id":42887,"nodeType":"VariableDeclaration","src":"1345:111:40","nodes":[],"constant":true,"mutability":"constant","name":"FALLBACK_SENTINEL","nameLocation":"1370:17:40","scope":43094,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":42885,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1345:7:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":42886,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1390:66:40","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"id":42891,"nodeType":"ErrorDefinition","src":"1463:32:40","nodes":[],"errorSelector":"305a27a9","name":"StringTooLong","nameLocation":"1469:13:40","parameters":{"id":42890,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42889,"mutability":"mutable","name":"str","nameLocation":"1490:3:40","nodeType":"VariableDeclaration","scope":42891,"src":"1483:10:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":42888,"name":"string","nodeType":"ElementaryTypeName","src":"1483:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1482:12:40"}},{"id":42893,"nodeType":"ErrorDefinition","src":"1500:27:40","nodes":[],"errorSelector":"b3512b0c","name":"InvalidShortString","nameLocation":"1506:18:40","parameters":{"id":42892,"nodeType":"ParameterList","parameters":[],"src":"1524:2:40"}},{"id":42937,"nodeType":"FunctionDefinition","src":"1708:288:40","nodes":[],"body":{"id":42936,"nodeType":"Block","src":"1786:210:40","nodes":[],"statements":[{"assignments":[42903],"declarations":[{"constant":false,"id":42903,"mutability":"mutable","name":"bstr","nameLocation":"1809:4:40","nodeType":"VariableDeclaration","scope":42936,"src":"1796:17:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":42902,"name":"bytes","nodeType":"ElementaryTypeName","src":"1796:5:40","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":42908,"initialValue":{"arguments":[{"id":42906,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42896,"src":"1822:3:40","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":42905,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1816:5:40","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":42904,"name":"bytes","nodeType":"ElementaryTypeName","src":"1816:5:40","typeDescriptions":{}}},"id":42907,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1816:10:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1796:30:40"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":42912,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":42909,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42903,"src":"1840:4:40","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":42910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1845:6:40","memberName":"length","nodeType":"MemberAccess","src":"1840:11:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30783166","id":42911,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1854:4:40","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"0x1f"},"src":"1840:18:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":42918,"nodeType":"IfStatement","src":"1836:74:40","trueBody":{"id":42917,"nodeType":"Block","src":"1860:50:40","statements":[{"errorCall":{"arguments":[{"id":42914,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42896,"src":"1895:3:40","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":42913,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42891,"src":"1881:13:40","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":42915,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1881:18:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":42916,"nodeType":"RevertStatement","src":"1874:25:40"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":42932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":42927,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42903,"src":"1967:4:40","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":42926,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1959:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":42925,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1959:7:40","typeDescriptions":{}}},"id":42928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1959:13:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":42924,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1951:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":42923,"name":"uint256","nodeType":"ElementaryTypeName","src":"1951:7:40","typeDescriptions":{}}},"id":42929,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1951:22:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":42930,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42903,"src":"1976:4:40","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":42931,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1981:6:40","memberName":"length","nodeType":"MemberAccess","src":"1976:11:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1951:36:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":42922,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1943:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":42921,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1943:7:40","typeDescriptions":{}}},"id":42933,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1943:45:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":42919,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42883,"src":"1926:11:40","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"type(ShortString)"}},"id":42920,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1938:4:40","memberName":"wrap","nodeType":"MemberAccess","src":"1926:16:40","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":42934,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1926:63:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"functionReturnParameters":42901,"id":42935,"nodeType":"Return","src":"1919:70:40"}]},"documentation":{"id":42894,"nodeType":"StructuredDocumentation","src":"1533:170:40","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1717:13:40","parameters":{"id":42897,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42896,"mutability":"mutable","name":"str","nameLocation":"1745:3:40","nodeType":"VariableDeclaration","scope":42937,"src":"1731:17:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":42895,"name":"string","nodeType":"ElementaryTypeName","src":"1731:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1730:19:40"},"returnParameters":{"id":42901,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42900,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":42937,"src":"1773:11:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"},"typeName":{"id":42899,"nodeType":"UserDefinedTypeName","pathNode":{"id":42898,"name":"ShortString","nameLocations":["1773:11:40"],"nodeType":"IdentifierPath","referencedDeclaration":42883,"src":"1773:11:40"},"referencedDeclaration":42883,"src":"1773:11:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"visibility":"internal"}],"src":"1772:13:40"},"scope":43094,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":42963,"nodeType":"FunctionDefinition","src":"2080:380:40","nodes":[],"body":{"id":42962,"nodeType":"Block","src":"2154:306:40","nodes":[],"statements":[{"assignments":[42947],"declarations":[{"constant":false,"id":42947,"mutability":"mutable","name":"len","nameLocation":"2172:3:40","nodeType":"VariableDeclaration","scope":42962,"src":"2164:11:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":42946,"name":"uint256","nodeType":"ElementaryTypeName","src":"2164:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":42951,"initialValue":{"arguments":[{"id":42949,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42941,"src":"2189:4:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}],"id":42948,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42995,"src":"2178:10:40","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$42883_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":42950,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2178:16:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2164:30:40"},{"assignments":[42953],"declarations":[{"constant":false,"id":42953,"mutability":"mutable","name":"str","nameLocation":"2296:3:40","nodeType":"VariableDeclaration","scope":42962,"src":"2282:17:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":42952,"name":"string","nodeType":"ElementaryTypeName","src":"2282:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":42958,"initialValue":{"arguments":[{"hexValue":"30783230","id":42956,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2313:4:40","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"0x20"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":42955,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2302:10:40","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":42954,"name":"string","nodeType":"ElementaryTypeName","src":"2306:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":42957,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2302:16:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2282:36:40"},{"AST":{"nativeSrc":"2353:81:40","nodeType":"YulBlock","src":"2353:81:40","statements":[{"expression":{"arguments":[{"name":"str","nativeSrc":"2374:3:40","nodeType":"YulIdentifier","src":"2374:3:40"},{"name":"len","nativeSrc":"2379:3:40","nodeType":"YulIdentifier","src":"2379:3:40"}],"functionName":{"name":"mstore","nativeSrc":"2367:6:40","nodeType":"YulIdentifier","src":"2367:6:40"},"nativeSrc":"2367:16:40","nodeType":"YulFunctionCall","src":"2367:16:40"},"nativeSrc":"2367:16:40","nodeType":"YulExpressionStatement","src":"2367:16:40"},{"expression":{"arguments":[{"arguments":[{"name":"str","nativeSrc":"2407:3:40","nodeType":"YulIdentifier","src":"2407:3:40"},{"kind":"number","nativeSrc":"2412:4:40","nodeType":"YulLiteral","src":"2412:4:40","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2403:3:40","nodeType":"YulIdentifier","src":"2403:3:40"},"nativeSrc":"2403:14:40","nodeType":"YulFunctionCall","src":"2403:14:40"},{"name":"sstr","nativeSrc":"2419:4:40","nodeType":"YulIdentifier","src":"2419:4:40"}],"functionName":{"name":"mstore","nativeSrc":"2396:6:40","nodeType":"YulIdentifier","src":"2396:6:40"},"nativeSrc":"2396:28:40","nodeType":"YulFunctionCall","src":"2396:28:40"},"nativeSrc":"2396:28:40","nodeType":"YulExpressionStatement","src":"2396:28:40"}]},"evmVersion":"cancun","externalReferences":[{"declaration":42947,"isOffset":false,"isSlot":false,"src":"2379:3:40","valueSize":1},{"declaration":42941,"isOffset":false,"isSlot":false,"src":"2419:4:40","valueSize":1},{"declaration":42953,"isOffset":false,"isSlot":false,"src":"2374:3:40","valueSize":1},{"declaration":42953,"isOffset":false,"isSlot":false,"src":"2407:3:40","valueSize":1}],"flags":["memory-safe"],"id":42959,"nodeType":"InlineAssembly","src":"2328:106:40"},{"expression":{"id":42960,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42953,"src":"2450:3:40","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":42945,"id":42961,"nodeType":"Return","src":"2443:10:40"}]},"documentation":{"id":42938,"nodeType":"StructuredDocumentation","src":"2002:73:40","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2089:8:40","parameters":{"id":42942,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42941,"mutability":"mutable","name":"sstr","nameLocation":"2110:4:40","nodeType":"VariableDeclaration","scope":42963,"src":"2098:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"},"typeName":{"id":42940,"nodeType":"UserDefinedTypeName","pathNode":{"id":42939,"name":"ShortString","nameLocations":["2098:11:40"],"nodeType":"IdentifierPath","referencedDeclaration":42883,"src":"2098:11:40"},"referencedDeclaration":42883,"src":"2098:11:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"visibility":"internal"}],"src":"2097:18:40"},"returnParameters":{"id":42945,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42944,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":42963,"src":"2139:13:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":42943,"name":"string","nodeType":"ElementaryTypeName","src":"2139:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2138:15:40"},"scope":43094,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":42995,"nodeType":"FunctionDefinition","src":"2532:247:40","nodes":[],"body":{"id":42994,"nodeType":"Block","src":"2602:177:40","nodes":[],"statements":[{"assignments":[42973],"declarations":[{"constant":false,"id":42973,"mutability":"mutable","name":"result","nameLocation":"2620:6:40","nodeType":"VariableDeclaration","scope":42994,"src":"2612:14:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":42972,"name":"uint256","nodeType":"ElementaryTypeName","src":"2612:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":42983,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":42982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":42978,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42967,"src":"2656:4:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}],"expression":{"id":42976,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42883,"src":"2637:11:40","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"type(ShortString)"}},"id":42977,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2649:6:40","memberName":"unwrap","nodeType":"MemberAccess","src":"2637:18:40","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$42883_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":42979,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2637:24:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":42975,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2629:7:40","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":42974,"name":"uint256","nodeType":"ElementaryTypeName","src":"2629:7:40","typeDescriptions":{}}},"id":42980,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2629:33:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":42981,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2665:4:40","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2629:40:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2612:57:40"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":42986,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":42984,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42973,"src":"2683:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30783166","id":42985,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2692:4:40","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"0x1f"},"src":"2683:13:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":42991,"nodeType":"IfStatement","src":"2679:71:40","trueBody":{"id":42990,"nodeType":"Block","src":"2698:52:40","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":42987,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42893,"src":"2719:18:40","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":42988,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2719:20:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":42989,"nodeType":"RevertStatement","src":"2712:27:40"}]}},{"expression":{"id":42992,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42973,"src":"2766:6:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":42971,"id":42993,"nodeType":"Return","src":"2759:13:40"}]},"documentation":{"id":42964,"nodeType":"StructuredDocumentation","src":"2466:61:40","text":" @dev Return the length of a `ShortString`."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2541:10:40","parameters":{"id":42968,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42967,"mutability":"mutable","name":"sstr","nameLocation":"2564:4:40","nodeType":"VariableDeclaration","scope":42995,"src":"2552:16:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"},"typeName":{"id":42966,"nodeType":"UserDefinedTypeName","pathNode":{"id":42965,"name":"ShortString","nameLocations":["2552:11:40"],"nodeType":"IdentifierPath","referencedDeclaration":42883,"src":"2552:11:40"},"referencedDeclaration":42883,"src":"2552:11:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"visibility":"internal"}],"src":"2551:18:40"},"returnParameters":{"id":42971,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42970,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":42995,"src":"2593:7:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":42969,"name":"uint256","nodeType":"ElementaryTypeName","src":"2593:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2592:9:40"},"scope":43094,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":43035,"nodeType":"FunctionDefinition","src":"2893:342:40","nodes":[],"body":{"id":43034,"nodeType":"Block","src":"3002:233:40","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":43008,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42998,"src":"3022:5:40","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":43007,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3016:5:40","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":43006,"name":"bytes","nodeType":"ElementaryTypeName","src":"3016:5:40","typeDescriptions":{}}},"id":43009,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3016:12:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":43010,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3029:6:40","memberName":"length","nodeType":"MemberAccess","src":"3016:19:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30783230","id":43011,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3038:4:40","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"0x20"},"src":"3016:26:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":43032,"nodeType":"Block","src":"3102:127:40","statements":[{"expression":{"id":43025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":43021,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43000,"src":"3142:5:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":43018,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43218,"src":"3116:11:40","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$43218_$","typeString":"type(library StorageSlot)"}},"id":43020,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3128:13:40","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":43195,"src":"3116:25:40","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$43115_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":43022,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3116:32:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$43115_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":43023,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3149:5:40","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":43114,"src":"3116:38:40","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":43024,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42998,"src":"3157:5:40","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3116:46:40","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":43026,"nodeType":"ExpressionStatement","src":"3116:46:40"},{"expression":{"arguments":[{"id":43029,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42887,"src":"3200:17:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":43027,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42883,"src":"3183:11:40","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"type(ShortString)"}},"id":43028,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3195:4:40","memberName":"wrap","nodeType":"MemberAccess","src":"3183:16:40","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":43030,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3183:35:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"functionReturnParameters":43005,"id":43031,"nodeType":"Return","src":"3176:42:40"}]},"id":43033,"nodeType":"IfStatement","src":"3012:217:40","trueBody":{"id":43017,"nodeType":"Block","src":"3044:52:40","statements":[{"expression":{"arguments":[{"id":43014,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42998,"src":"3079:5:40","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":43013,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42937,"src":"3065:13:40","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":43015,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3065:20:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"functionReturnParameters":43005,"id":43016,"nodeType":"Return","src":"3058:27:40"}]}}]},"documentation":{"id":42996,"nodeType":"StructuredDocumentation","src":"2785:103:40","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2902:25:40","parameters":{"id":43001,"nodeType":"ParameterList","parameters":[{"constant":false,"id":42998,"mutability":"mutable","name":"value","nameLocation":"2942:5:40","nodeType":"VariableDeclaration","scope":43035,"src":"2928:19:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":42997,"name":"string","nodeType":"ElementaryTypeName","src":"2928:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":43000,"mutability":"mutable","name":"store","nameLocation":"2964:5:40","nodeType":"VariableDeclaration","scope":43035,"src":"2949:20:40","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":42999,"name":"string","nodeType":"ElementaryTypeName","src":"2949:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2927:43:40"},"returnParameters":{"id":43005,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43004,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":43035,"src":"2989:11:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"},"typeName":{"id":43003,"nodeType":"UserDefinedTypeName","pathNode":{"id":43002,"name":"ShortString","nameLocations":["2989:11:40"],"nodeType":"IdentifierPath","referencedDeclaration":42883,"src":"2989:11:40"},"referencedDeclaration":42883,"src":"2989:11:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"visibility":"internal"}],"src":"2988:13:40"},"scope":43094,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":43062,"nodeType":"FunctionDefinition","src":"3376:267:40","nodes":[],"body":{"id":43061,"nodeType":"Block","src":"3485:158:40","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":43051,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":43048,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43039,"src":"3518:5:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}],"expression":{"id":43046,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42883,"src":"3499:11:40","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"type(ShortString)"}},"id":43047,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3511:6:40","memberName":"unwrap","nodeType":"MemberAccess","src":"3499:18:40","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$42883_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":43049,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3499:25:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":43050,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42887,"src":"3528:17:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3499:46:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":43059,"nodeType":"Block","src":"3600:37:40","statements":[{"expression":{"id":43057,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43041,"src":"3621:5:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":43045,"id":43058,"nodeType":"Return","src":"3614:12:40"}]},"id":43060,"nodeType":"IfStatement","src":"3495:142:40","trueBody":{"id":43056,"nodeType":"Block","src":"3547:47:40","statements":[{"expression":{"arguments":[{"id":43053,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43039,"src":"3577:5:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}],"id":43052,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42963,"src":"3568:8:40","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$42883_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":43054,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3568:15:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":43045,"id":43055,"nodeType":"Return","src":"3561:22:40"}]}}]},"documentation":{"id":43036,"nodeType":"StructuredDocumentation","src":"3241:130:40","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {toShortStringWithFallback}."},"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3385:20:40","parameters":{"id":43042,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43039,"mutability":"mutable","name":"value","nameLocation":"3418:5:40","nodeType":"VariableDeclaration","scope":43062,"src":"3406:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"},"typeName":{"id":43038,"nodeType":"UserDefinedTypeName","pathNode":{"id":43037,"name":"ShortString","nameLocations":["3406:11:40"],"nodeType":"IdentifierPath","referencedDeclaration":42883,"src":"3406:11:40"},"referencedDeclaration":42883,"src":"3406:11:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":43041,"mutability":"mutable","name":"store","nameLocation":"3440:5:40","nodeType":"VariableDeclaration","scope":43062,"src":"3425:20:40","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":43040,"name":"string","nodeType":"ElementaryTypeName","src":"3425:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3405:41:40"},"returnParameters":{"id":43045,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43044,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":43062,"src":"3470:13:40","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":43043,"name":"string","nodeType":"ElementaryTypeName","src":"3470:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3469:15:40"},"scope":43094,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":43093,"nodeType":"FunctionDefinition","src":"4028:279:40","nodes":[],"body":{"id":43092,"nodeType":"Block","src":"4133:174:40","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":43078,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":43075,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43066,"src":"4166:5:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}],"expression":{"id":43073,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42883,"src":"4147:11:40","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$42883_$","typeString":"type(ShortString)"}},"id":43074,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4159:6:40","memberName":"unwrap","nodeType":"MemberAccess","src":"4147:18:40","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$42883_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":43076,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4147:25:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":43077,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42887,"src":"4176:17:40","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4147:46:40","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":43090,"nodeType":"Block","src":"4250:51:40","statements":[{"expression":{"expression":{"arguments":[{"id":43086,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43068,"src":"4277:5:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":43085,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4271:5:40","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":43084,"name":"bytes","nodeType":"ElementaryTypeName","src":"4271:5:40","typeDescriptions":{}}},"id":43087,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4271:12:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":43088,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4284:6:40","memberName":"length","nodeType":"MemberAccess","src":"4271:19:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":43072,"id":43089,"nodeType":"Return","src":"4264:26:40"}]},"id":43091,"nodeType":"IfStatement","src":"4143:158:40","trueBody":{"id":43083,"nodeType":"Block","src":"4195:49:40","statements":[{"expression":{"arguments":[{"id":43080,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43066,"src":"4227:5:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}],"id":43079,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":42995,"src":"4216:10:40","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$42883_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":43081,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4216:17:40","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":43072,"id":43082,"nodeType":"Return","src":"4209:24:40"}]}}]},"documentation":{"id":43063,"nodeType":"StructuredDocumentation","src":"3649:374:40","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using\n {toShortStringWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4037:22:40","parameters":{"id":43069,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43066,"mutability":"mutable","name":"value","nameLocation":"4072:5:40","nodeType":"VariableDeclaration","scope":43093,"src":"4060:17:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"},"typeName":{"id":43065,"nodeType":"UserDefinedTypeName","pathNode":{"id":43064,"name":"ShortString","nameLocations":["4060:11:40"],"nodeType":"IdentifierPath","referencedDeclaration":42883,"src":"4060:11:40"},"referencedDeclaration":42883,"src":"4060:11:40","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$42883","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":43068,"mutability":"mutable","name":"store","nameLocation":"4094:5:40","nodeType":"VariableDeclaration","scope":43093,"src":"4079:20:40","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":43067,"name":"string","nodeType":"ElementaryTypeName","src":"4079:6:40","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4059:41:40"},"returnParameters":{"id":43072,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43071,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":43093,"src":"4124:7:40","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43070,"name":"uint256","nodeType":"ElementaryTypeName","src":"4124:7:40","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4123:9:40"},"scope":43094,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":42884,"nodeType":"StructuredDocumentation","src":"378:876:40","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"linearizedBaseContracts":[43094],"name":"ShortStrings","nameLocation":"1263:12:40","scope":43095,"usedErrors":[42891,42893],"usedEvents":[]}],"license":"MIT"},"id":40}